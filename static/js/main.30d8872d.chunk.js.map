{"version":3,"sources":["services/config.js","services/request.js","services/api/recipe.js","views/Recipe/index.js","services/api/auth.js","views/Login/index.js","views/Register/index.js","views/Recipe/component/recipeForm.js","services/api/menu.js","views/Menu/index.js","App.js","views/Menu/component/menuForm.js","index.js"],"names":["SERVER_URL","process","REACT_APP_BASE_URL","emailRegex","api","method","url","a","data","authentication","callback","headers","authorization","localStorage","getItem","axios","response","window","alert","message","getRecipes","getRecipe","params","createRecipe","updateRecipe","deleteRecipe","reviewRecipe","useStyles","makeStyles","root","marginBottom","title","fontSize","pos","Recipe","props","useState","recipes","setRecipes","paginatedRecipes","setPaginatedRecipes","page","setPage","setMessage","reviewForm","setReviewForm","rating","setRating","classes","useEffect","fetchRecipes","slice","delRecipe","id","_recipes","filter","recipe","_id","addReview","Button","variant","color","onClick","history","push","Typography","Pagination","count","length","Math","floor","onChange","event","val","paginateRecipes","map","Card","className","CardContent","name","description","prep_time_minutes","cook_time_minutes","Input","type","value","required","e","target","Rating","newValue","reviews","review","readOnly","user","email","signup","login","Login","setEmail","password","setPassword","handleSubmit","preventDefault","test","setItem","token","location","href","Register","newPassword","setNewPassword","RecipeForm","setName","setDescription","preptime","setPrepTime","cooktime","setCookTime","match","fetchRecipe","addRecipe","newRecipe","updRecipe","updateObj","getMenus","getMenu","createMenu","updateMenu","deleteMenu","reviewMenu","Menu","menus","setMenus","paginatedMenus","setPaginatedMenus","fetchMenus","delMenu","_menus","menu","paginateMenus","routes","exact","path","component","needAuth","availableRecipes","setAvailableRecipes","setRecipe","fetchMenu","availableRecipe","includes","addMenu","newMenu","updMenu","FormControl","style","width","InputLabel","Select","MenuItem","recipeId","removeRecipe","App","isLoggedIn","route","i","Component","render","to","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.30d8872d.chunk.js","sourcesContent":["export const SERVER_URL =\n  process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\nexport const emailRegex =\n  /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n","import axios from \"axios\";\nimport { SERVER_URL } from \"./config\";\n\n// TODO need improvement\nexport const api = async (method, url, data = {}, authentication, callback) => {\n  let headers = { \"Content-Type\": \"application/json\" };\n\n  if (authentication) {\n    headers.authorization = `Bearer ${localStorage.getItem(\n      \"hf-frontend@token\"\n    )}`;\n  }\n\n  try {\n    let response = await axios({\n      method,\n      url: `${SERVER_URL}${url}`,\n      data,\n      headers,\n    });\n\n    // return response.data;\n    if (response) {\n      callback(response.data);\n    }\n  } catch (e) {\n    window.alert(e.response?.data?.message || \"Something wrong\");\n    return false;\n  }\n};\n","import { api } from \"../request\";\n\nexport const getRecipes = async (data, callback) => {\n  await api(\"GET\", \"/v1/recipe\", data, true, callback);\n};\n\nexport const getRecipe = async (data, params, callback) => {\n  await api(\"GET\", `/v1/recipe/${params}`, data, true, callback);\n};\n\nexport const createRecipe = async (data, callback) => {\n  await api(\"POST\", \"/v1/recipe\", data, true, callback);\n};\n\nexport const updateRecipe = async (data, params, callback) => {\n  await api(\"PUT\", `/v1/recipe/${params}`, data, true, callback);\n};\n\nexport const deleteRecipe = async (data, params, callback) => {\n  await api(\"DELETE\", `/v1/recipe/${params}`, data, true, callback);\n};\n\nexport const reviewRecipe = async (data, params, callback) => {\n  await api(\"POST\", `/v1/recipe/review/${params}`, data, true, callback);\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  makeStyles,\n  Input,\n} from \"@material-ui/core\";\nimport { Pagination, Rating } from \"@material-ui/lab\";\n\nimport {\n  deleteRecipe,\n  getRecipes,\n  reviewRecipe,\n} from \"../../services/api/recipe\";\n\nconst useStyles = makeStyles({\n  root: {\n    marginBottom: 30,\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst Recipe = (props) => {\n  const [recipes, setRecipes] = useState([]);\n  const [paginatedRecipes, setPaginatedRecipes] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const [message, setMessage] = useState(\"\");\n  const [reviewForm, setReviewForm] = useState(false);\n  const [rating, setRating] = useState(5);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchRecipes();\n  }, [reviewForm]);\n\n  const fetchRecipes = async () => {\n    await getRecipes({}, (response) => {\n      setRecipes(response.recipes);\n      setPaginatedRecipes(response.recipes.slice((page - 1) * 10, page * 10));\n    });\n  };\n\n  const delRecipe = async (id) => {\n    await deleteRecipe({}, id, (response) => {\n      let _recipes = recipes.filter((recipe) => recipe._id != id);\n      setRecipes(_recipes);\n      fetchRecipes();\n    });\n  };\n\n  const paginateRecipes = (val) => {\n    setPage(val);\n    let _recipes = recipes.slice((val - 1) * 10, val * 10);\n    setPaginatedRecipes(_recipes);\n  };\n\n  const addReview = async (id) => {\n    await reviewRecipe({ message, rating }, id, (response) => {\n      setReviewForm(false);\n      setMessage(\"\");\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => props.history.push(`/recipe/create/new`)}\n      >\n        Create Recipe\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => props.history.push(`/menu`)}\n      >\n        Menu\n      </Button>\n      <Typography>Recipes List</Typography>\n      {paginatedRecipes && (\n        <Pagination\n          count={\n            recipes.length % 10 === 0\n              ? recipes.length / 10\n              : Math.floor(recipes.length / 10) + 1\n          }\n          page={page}\n          onChange={(event, val) => paginateRecipes(val)}\n        />\n      )}\n\n      {paginatedRecipes &&\n        paginatedRecipes.map((recipe) => (\n          <Card className={classes.root}>\n            <CardContent>\n              <Typography>\n                <b>Name </b>\n                {recipe.name}\n              </Typography>\n              <Typography>\n                <b>Description </b>\n                {recipe.description}\n              </Typography>\n              <Typography>\n                <b>Prep Time </b>\n                {recipe.prep_time_minutes || \"unknown\"}\n              </Typography>\n              <Typography>\n                <b>Cook Time </b>\n                {recipe.cook_time_minutes || \"unknown\"}\n              </Typography>\n              {reviewForm == recipe._id && (\n                <div>\n                  <Input\n                    type=\"text\"\n                    name=\"message\"\n                    value={message}\n                    required\n                    onChange={(e) => setMessage(e.target.value)}\n                  />\n                  <Rating\n                    name=\"simple-controlled\"\n                    value={rating}\n                    onChange={(event, newValue) => {\n                      setRating(newValue);\n                    }}\n                  />\n                  <br />\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => addReview(recipe._id)}\n                  >\n                    <Typography>Save Review</Typography>\n                  </Button>\n                  <br />\n                </div>\n              )}\n              <Button\n                variant=\"contained\"\n                onClick={() => props.history.push(`/recipe/edit/${recipe._id}`)}\n              >\n                <Typography>Update</Typography>\n              </Button>\n              <Button variant=\"contained\" onClick={() => delRecipe(recipe._id)}>\n                <Typography>Delete</Typography>\n              </Button>\n              <Button\n                variant=\"contained\"\n                onClick={() => setReviewForm(recipe._id)}\n              >\n                <Typography>Review</Typography>\n              </Button>\n              <Typography>\n                <b>Reviews</b>\n              </Typography>\n              {recipe.reviews?.map((review) => (\n                <div>\n                  <Typography>{review.message}</Typography>\n                  <Rating name=\"read-only\" value={review.rating} readOnly />\n                  <Typography>{review.user.email}</Typography>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        ))}\n    </div>\n  );\n};\n\nexport default Recipe;\n","import { api } from \"../request\";\n\nexport const signup = async (data, callback) => {\n  await api(\"POST\", \"/auth/signup\", data, false, callback);\n};\n\nexport const login = async (data, callback) => {\n  await api(\"POST\", \"/auth/login\", data, false, callback);\n};\n","import React, { useState } from \"react\";\nimport { Input, Typography, Button } from \"@material-ui/core\";\n\nimport { login } from \"../../services/api/auth\";\nimport { emailRegex } from \"../../services/config\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!emailRegex.test(email)) {\n      window.alert(\"Invalid email!\");\n      return;\n    }\n\n    login({ email, password }, (response) => {\n      localStorage.setItem(\"hf-frontend@token\", response.token);\n      window.location.href = \"/recipe\";\n      // props.history.push(\"/recipe\"); why?\n    });\n  };\n\n  return (\n    <div>\n      <Typography>Email</Typography>\n      <Input\n        type=\"text\"\n        name=\"email\"\n        value={email}\n        required\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Typography>Password</Typography>\n      <Input\n        type=\"password\"\n        name=\"password\"\n        value={password}\n        required\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <br />\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n        Submit\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => props.history.push(\"/register\")}\n      >\n        Register\n      </Button>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Input, Typography, Button } from \"@material-ui/core\";\n\nimport { emailRegex } from \"../../services/config\";\nimport { signup } from \"../../services/api/auth\";\n\nconst Register = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!emailRegex.test(email)) {\n      window.alert(\"Invalid email!\");\n      return;\n    }\n    if (password.length < 8) {\n      window.alert(\"Password must be more than 8 characters!\");\n      return;\n    }\n    if (password != newPassword) {\n      window.alert(\"Password doesn't match!\");\n      return;\n    }\n\n    signup({ email, password }, (response) => {\n      localStorage.setItem(\"hf-frontend@token\", response.token);\n      window.location.href = \"/recipe\";\n      // props.history.push(\"/recipe\");\n    });\n  };\n\n  return (\n    <div>\n      <Typography>Email</Typography>\n      <Input\n        type=\"text\"\n        name=\"email\"\n        value={email}\n        required\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Typography>Password</Typography>\n      <Input\n        type=\"password\"\n        name=\"password\"\n        value={password}\n        required\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <Typography>Confirm Password</Typography>\n      <Input\n        type=\"password\"\n        name=\"new_password\"\n        value={newPassword}\n        required\n        onChange={(e) => setNewPassword(e.target.value)}\n      />\n      <br />\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n        Submit\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={() => props.history.push(\"/login\")}\n      >\n        Login\n      </Button>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useEffect, useState } from \"react\";\nimport { Input, Typography, Button } from \"@material-ui/core\";\n\nimport {\n  getRecipe,\n  updateRecipe,\n  createRecipe,\n} from \"../../../services/api/recipe\";\n\nconst RecipeForm = (props) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [preptime, setPrepTime] = useState(\"\");\n  const [cooktime, setCookTime] = useState(\"\");\n\n  const { id, type } = props.match.params;\n\n  useEffect(() => {\n    if (id && type == \"edit\") {\n      // update\n      fetchRecipe(id);\n    }\n  }, []);\n\n  const fetchRecipe = async (id) => {\n    await getRecipe({}, id, (response) => {\n      setName(response.recipe.name);\n      setDescription(response.recipe.description);\n      setPrepTime(response.recipe.prep_time_minutes);\n      setCookTime(response.recipe.cook_time_minutes);\n    });\n  };\n\n  const addRecipe = async () => {\n    let newRecipe = {\n      name,\n      description,\n      prep_time_minutes: preptime,\n      cook_time_minutes: cooktime,\n    };\n    await createRecipe(newRecipe, () => {\n      props.history.push(\"/recipe\");\n    });\n  };\n\n  const updRecipe = async () => {\n    let updateObj = {\n      name,\n      description,\n      prep_time_minutes: preptime,\n      cook_time_minutes: cooktime,\n    };\n\n    await updateRecipe(updateObj, id, () => {\n      props.history.push(\"/recipe\");\n    });\n  };\n\n  return (\n    <div>\n      <Typography>Name</Typography>\n      <Input\n        type=\"text\"\n        value={name}\n        required\n        onChange={(e) => setName(e.target.value)}\n      />\n      <Typography>Description</Typography>\n      <Input\n        type=\"text\"\n        value={description}\n        required\n        onChange={(e) => setDescription(e.target.value)}\n      />\n      <Typography>Prep Time</Typography>\n      <Input\n        type=\"text\"\n        value={preptime}\n        onChange={(e) => setPrepTime(e.target.value)}\n      />\n      <Typography>Cook Time</Typography>\n\n      <Input\n        type=\"text\"\n        value={cooktime}\n        onChange={(e) => setCookTime(e.target.value)}\n      />\n      <br />\n      {type == \"edit\" ? (\n        <Button onClick={updRecipe} variant=\"contained\" color=\"secondary\">\n          <Typography>Update</Typography>\n        </Button>\n      ) : type == \"create\" ? (\n        <Button onClick={addRecipe} variant=\"contained\" color=\"secondary\">\n          <Typography>Create</Typography>\n        </Button>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n};\n\nexport default RecipeForm;\n","import { api } from \"../request\";\n\nexport const getMenus = async (data, callback) => {\n  await api(\"GET\", \"/v1/menu\", data, true, callback);\n};\n\nexport const getMenu = async (data, params, callback) => {\n  await api(\"GET\", `/v1/menu/${params}`, data, true, callback);\n};\n\nexport const createMenu = async (data, callback) => {\n  await api(\"POST\", \"/v1/menu\", data, true, callback);\n};\n\nexport const updateMenu = async (data, params, callback) => {\n  await api(\"PUT\", `/v1/menu/${params}`, data, true, callback);\n};\n\nexport const deleteMenu = async (data, params, callback) => {\n  await api(\"DELETE\", `/v1/menu/${params}`, data, true, callback);\n};\n\nexport const reviewMenu = async (data, params, callback) => {\n  await api(\"POST\", `/v1/menu/review/${params}`, data, true, callback);\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  makeStyles,\n  Input,\n} from \"@material-ui/core\";\nimport { Pagination, Rating } from \"@material-ui/lab\";\n\nimport { deleteMenu, getMenus, reviewMenu } from \"../../services/api/menu\";\n\nconst useStyles = makeStyles({\n  root: {\n    marginBottom: 30,\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst Menu = (props) => {\n  const [menus, setMenus] = useState([]);\n  const [paginatedMenus, setPaginatedMenus] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const [message, setMessage] = useState(\"\");\n  const [reviewForm, setReviewForm] = useState(false);\n  const [rating, setRating] = useState(5);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchMenus();\n  }, [reviewForm]);\n\n  const fetchMenus = async () => {\n    await getMenus({}, (response) => {\n      setMenus(response.menus);\n      setPaginatedMenus(response.menus.slice((page - 1) * 10, page * 10));\n    });\n  };\n\n  const delMenu = async (id) => {\n    await deleteMenu({}, id, (response) => {\n      let _menus = menus.filter((menu) => menu._id != id);\n      setMenus(_menus);\n      fetchMenus();\n    });\n  };\n\n  const paginateMenus = (val) => {\n    setPage(val);\n    let _menus = menus.slice((val - 1) * 10, val * 10);\n    setPaginatedMenus(_menus);\n  };\n\n  const addReview = async (id) => {\n    await reviewMenu({ message, rating }, id, (response) => {\n      setReviewForm(false);\n      setMessage(\"\");\n    });\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => props.history.push(`/menu/create/new`)}\n      >\n        Create Menu\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => props.history.push(`/recipe`)}\n      >\n        Recipe\n      </Button>\n      <Typography>Menus List</Typography>\n      {paginatedMenus && (\n        <Pagination\n          count={\n            menus.length % 10 === 0\n              ? menus.length / 10\n              : Math.floor(menus.length / 10) + 1\n          }\n          page={page}\n          onChange={(event, val) => paginateMenus(val)}\n        />\n      )}\n\n      {paginatedMenus &&\n        paginatedMenus.map((menu) => (\n          <Card className={classes.root}>\n            <CardContent>\n              <Typography>\n                <b>Name </b>\n                {menu.name}\n              </Typography>\n              <Typography>\n                <b>Description </b>\n                {menu.description || \"unknown\"}\n              </Typography>\n              <Typography>\n                <b>Recipes</b>\n              </Typography>\n              {menu.recipes?.map((recipe) => (\n                <div>\n                  <Typography>{recipe.name}</Typography>\n                </div>\n              ))}\n              {reviewForm == menu._id && (\n                <div>\n                  <Input\n                    type=\"text\"\n                    name=\"message\"\n                    value={message}\n                    required\n                    onChange={(e) => setMessage(e.target.value)}\n                  />\n                  <Rating\n                    name=\"simple-controlled\"\n                    value={rating}\n                    onChange={(event, newValue) => {\n                      setRating(newValue);\n                    }}\n                  />\n                  <br />\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => addReview(menu._id)}\n                  >\n                    <Typography>Save Review</Typography>\n                  </Button>\n                  <br />\n                </div>\n              )}\n              <Button\n                variant=\"contained\"\n                onClick={() => props.history.push(`/menu/edit/${menu._id}`)}\n              >\n                <Typography>Update</Typography>\n              </Button>\n              <Button variant=\"contained\" onClick={() => delMenu(menu._id)}>\n                <Typography>Delete</Typography>\n              </Button>\n              <Button\n                variant=\"contained\"\n                onClick={() => setReviewForm(menu._id)}\n              >\n                <Typography>Review</Typography>\n              </Button>\n              <Typography>\n                <b>Reviews</b>\n              </Typography>\n              {menu.reviews?.map((review) => (\n                <div>\n                  <Typography>{review.message}</Typography>\n                  <Rating name=\"read-only\" value={review.rating} readOnly />\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        ))}\n    </div>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\nimport {\n  Route,\n  Switch,\n  BrowserRouter as Router,\n  Redirect,\n} from \"react-router-dom\";\n\nimport Recipe from \"./views/Recipe\";\nimport Login from \"./views/Login\";\nimport Register from \"./views/Register\";\nimport RecipeForm from \"./views/Recipe/component/recipeForm\";\nimport Menu from \"./views/Menu\";\nimport MenuForm from \"./views/Menu/component/menuForm\";\n\nfunction App() {\n  const isLoggedIn = localStorage.getItem(\"hf-frontend@token\");\n\n  return (\n    <Router>\n      <Switch>\n        {/* render login first, but could be better way */}\n        <Route exact path={\"/login\"} component={Login} />\n        {routes.map((route, i) => {\n          const Component = route.component;\n          return (\n            <Route\n              key={`router${i}`}\n              path={route.path}\n              exact={route.exact}\n              render={(props) =>\n                isLoggedIn || !route.needAuth ? (\n                  <Component {...props} />\n                ) : (\n                  <Redirect to=\"/login\" />\n                )\n              }\n            />\n          );\n        })}\n      </Switch>\n    </Router>\n  );\n}\n\nconst routes = [\n  {\n    exact: true,\n    path: \"/\",\n    component: Recipe,\n    needAuth: true,\n  },\n  {\n    exact: true,\n    path: \"/register\",\n    component: Register,\n    needAuth: false,\n  },\n\n  {\n    exact: true,\n    path: \"/recipe\",\n    component: Recipe,\n    needAuth: true,\n  },\n  {\n    exact: true,\n    path: \"/recipe/:type/:id\",\n    component: RecipeForm,\n    needAuth: true,\n  },\n  {\n    exact: true,\n    path: \"/menu\",\n    component: Menu,\n    needAuth: true,\n  },\n  {\n    exact: true,\n    path: \"/menu/:type/:id\",\n    component: MenuForm,\n    needAuth: true,\n  },\n];\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Input,\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\n\nimport { getMenu, updateMenu, createMenu } from \"../../../services/api/menu\";\nimport { getRecipes } from \"../../../services/api/recipe\";\n\nconst MenuForm = (props) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const [recipes, setRecipes] = useState([]);\n  const [availableRecipes, setAvailableRecipes] = useState([]);\n  const [recipe, setRecipe] = useState(\"\");\n  const { id, type } = props.match.params;\n\n  useEffect(() => {\n    if (id && type == \"edit\") {\n      // update\n      fetchMenu(id);\n    } else {\n      // create, fetch all recipes\n      fetchRecipes();\n    }\n  }, []);\n\n  const fetchMenu = async (id) => {\n    await getMenu({}, id, (response) => {\n      setRecipes(response.menu.recipes);\n      setName(response.menu.name);\n      setDescription(response.menu.description);\n      // state is not set yet, use response directly\n      // don't include those that is in already\n      fetchRecipes(response.menu.recipes);\n    });\n  };\n\n  const fetchRecipes = async (recipes = []) => {\n    await getRecipes({}, (response) => {\n      let _recipes = recipes.map((recipe) => recipe._id);\n      let availableRecipe = response.recipes.filter(\n        (recipe) => !_recipes.includes(recipe._id)\n      );\n      setAvailableRecipes(availableRecipe);\n    });\n  };\n\n  const addMenu = async () => {\n    let newMenu = {\n      name,\n      description,\n      recipes,\n    };\n    await createMenu(newMenu, () => {\n      props.history.push(\"/menu\");\n    });\n  };\n\n  const updMenu = async () => {\n    let updateObj = {\n      name,\n      description,\n      recipes,\n    };\n\n    await updateMenu(updateObj, id, () => {\n      props.history.push(\"/menu\");\n    });\n  };\n\n  const removeRecipe = (recipeId) => {\n    let _recipes = recipes.filter((recipe) => recipe._id !== recipeId);\n    setRecipes(_recipes);\n  };\n\n  const addRecipe = () => {\n    let _recipes = recipes;\n    _recipes.push(recipe);\n    setRecipes(_recipes);\n    setRecipe(\"\");\n  };\n\n  return (\n    <div>\n      <Typography>Name</Typography>\n      <Input\n        type=\"text\"\n        value={name}\n        required\n        onChange={(e) => setName(e.target.value)}\n      />\n      <Typography>Description</Typography>\n      <Input\n        type=\"text\"\n        value={description}\n        required\n        onChange={(e) => setDescription(e.target.value)}\n      />\n      {recipes && <Typography>List of recipes</Typography>}\n      <FormControl style={{ width: 200 }}>\n        <InputLabel>Recipe</InputLabel>\n        <Select value={recipe} onChange={(e) => setRecipe(e.target.value)}>\n          {availableRecipes.map((recipe) => (\n            <MenuItem value={recipe}>{recipe.name}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {recipe && (\n        <Button variant=\"contained\" color=\"secondary\" onClick={addRecipe}>\n          Add Recipe\n        </Button>\n      )}\n      {recipes?.map((recipe) => (\n        <Card>\n          <CardContent>\n            <Typography>{recipe.name}</Typography>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => removeRecipe(recipe._id)}\n            >\n              <Typography>Remove</Typography>\n            </Button>\n          </CardContent>\n        </Card>\n      ))}\n      <br />\n      {type == \"edit\" ? (\n        <Button onClick={updMenu} variant=\"contained\" color=\"secondary\">\n          <Typography>Update</Typography>\n        </Button>\n      ) : type == \"create\" ? (\n        <Button onClick={addMenu} variant=\"contained\" color=\"secondary\">\n          <Typography>Create</Typography>\n        </Button>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n};\n\nexport default MenuForm;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}